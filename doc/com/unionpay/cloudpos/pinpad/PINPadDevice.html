<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (version 1.7.0_05) on Thu Jul 14 10:44:05 CST 2016 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>PINPadDevice (cloudposSDKAPI)</title>
<meta name="date" content="2016-07-14">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PINPadDevice (cloudposSDKAPI)";
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="跳过导航链接"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/PINPadDevice.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/unionpay/cloudpos/pinpad/KeyInfo.html" title="com.unionpay.cloudpos.pinpad中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDeviceSpec.html" title="com.unionpay.cloudpos.pinpad中的接口"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/unionpay/cloudpos/pinpad/PINPadDevice.html" target="_top">框架</a></li>
<li><a href="PINPadDevice.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field_summary">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field_detail">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.unionpay.cloudpos.pinpad</div>
<h2 title="接口 PINPadDevice" class="title">接口 PINPadDevice</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>所有超级接口:</dt>
<dd><a href="../../../../com/unionpay/cloudpos/Device.html" title="com.unionpay.cloudpos中的接口">Device</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">PINPadDevice</span>
extends <a href="../../../../com/unionpay/cloudpos/Device.html" title="com.unionpay.cloudpos中的接口">Device</a></pre>
<div class="block"><b>PINPadDevice</b>定义了PIN输入设备的接口。
 <p>PIN输入设备是智能销售点终端的核心组件之一，用于加密持卡人的PIN、计算交易报文MAC，加解密数据等，可做为共享资源供终端上所有应用使用。
 为了唯一标识PIN输入设备中的终端主密钥，PIN输入设备为每一套终端主密钥分配了一个密钥索引号。PIN输入设备的详细描述参考《银联卡受理终端安全规范-第8部分-智能销售点终端安全规范》
 <p>设备对象通过<code>POSTerminal</code>的对应方法获得，如下所示：
 <pre>
 PINPadDevice pinPadDevice =
         (PINPadDevice) POSTerminal.getInstance().getDevice("cloudpos.device.pinpad");
 </pre>
 其中，"cloudpos.device.pinpad"是标识PIN输入设备的字符串，由具体的实现定义。
 <p>使用PIN输入设备对象，可以在PIN输入设备上显示文本，修改用户密钥，对数据加密，计算MAC，返回随机数。PIN输入设备输入PIN的操作有两种方式，一种是同步，一种是异步。同步方式会将主线程锁定，直到有结果返回，超时或者被取消。
 异步方式不会锁定主线程，当有结果时，会回调监听者<a href="../../../../com/unionpay/cloudpos/OperationListener.html#handleResult(com.unionpay.cloudpos.OperationResult)"><code>handleResult()</code></a>方法。
 <p>为了正常访问PIN输入设备，请在Android Manifest文件中设置PIN输入设备访问权限，具体如下所示：
 <ol> <li>&lt;uses-permission android:name="android.permission.CLOUDPOS_PIN_GET_PIN_BLOCK"/>
 应用程序声明这个权限，可以调用<a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#listenForPinBlock(com.unionpay.cloudpos.pinpad.KeyInfo, java.lang.String, boolean, com.unionpay.cloudpos.OperationListener, int)"><code>listenForPinBlock(KeyInfo,  String, boolean,  OperationListener,  int)</code></a>及<a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#waitForPinBlock(com.unionpay.cloudpos.pinpad.KeyInfo, java.lang.String, boolean, int)"><code>waitForPinBlock(KeyInfo, String, boolean,  int)</code></a>方法。
 <li>&lt;uses-permission android:name="android.permission.CLOUDPOS_PIN_MAC"/>
 应用程序声明这个权限，可以调用<a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#calculateMac(com.unionpay.cloudpos.pinpad.KeyInfo, int, byte[])"><code>calculateMac(KeyInfo, int, byte[])</code></a>方法。
 <li>&lt;uses-permission android:name="android.permission.CLOUDPOS_PIN_ENCRYPT_DATA"/>，
 应用程序声明这个权限，可以调用<a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#encryptData(com.unionpay.cloudpos.pinpad.KeyInfo, byte[])"><code>encryptData(KeyInfo, byte[])</code></a>方法。
 <li>&lt;uses-permission android:name="android.permission.CLOUDPOS_PIN_UPDATE_USER_KEY"/>，
 应用程序声明这个权限，可以调用<a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#updateUserKey(int, int, byte[], int, byte[])"><code>updateUserKey(int, int, byte[],int, byte[])</code></a>及<a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#updateUserKey(int, int, byte[])"><code>updateUserKey(int, int, byte[])</code></a>方法。
 </ol>
 <p>PIN输入设备可以是外接的，也可以是内置的。对于内置的情况，终端系统提供密码输入界面。</div>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../com/unionpay/cloudpos/Device.html" title="com.unionpay.cloudpos中的接口"><code>Device</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#CHECK_TYPE_CUP">CHECK_TYPE_CUP</a></strong></code>
<div class="block">校验位的校验方式之一，银联标准算法验证。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#CHECK_TYPE_NONE">CHECK_TYPE_NONE</a></strong></code>
<div class="block">校验位的校验方式之一，无校验位验证。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#KEY_TYPE_DUKPT">KEY_TYPE_DUKPT</a></strong></code>
<div class="block">密钥类型：DUKPT</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#KEY_TYPE_FIX">KEY_TYPE_FIX</a></strong></code>
<div class="block">密钥类型：固定密钥</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#KEY_TYPE_MK_SK">KEY_TYPE_MK_SK</a></strong></code>
<div class="block">密钥类型：主密钥/会话密钥</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#KEY_TYPE_TDUKPT">KEY_TYPE_TDUKPT</a></strong></code>
<div class="block">密钥类型：TDUKPT，三重DES的DUKPT</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#USER_KEY_ID_DATA">USER_KEY_ID_DATA</a></strong></code>
<div class="block">加密数据</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#USER_KEY_ID_MAC">USER_KEY_ID_MAC</a></strong></code>
<div class="block">MAC计算密钥</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#USER_KEY_ID_PIN">USER_KEY_ID_PIN</a></strong></code>
<div class="block">PIN加密密钥</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span>方法</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#calculateMac(com.unionpay.cloudpos.pinpad.KeyInfo, int, byte[])">calculateMac</a></strong>(<a href="../../../../com/unionpay/cloudpos/pinpad/KeyInfo.html" title="com.unionpay.cloudpos.pinpad中的类">KeyInfo</a>&nbsp;keyInfo,
            int&nbsp;macFlag,
            byte[]&nbsp;plain)</code>
<div class="block">按照KeyInfo中指定的密钥进行计算MAC。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#clearText()">clearText</a></strong>()</code>
<div class="block">清空文本显示。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#encryptData(com.unionpay.cloudpos.pinpad.KeyInfo, byte[])">encryptData</a></strong>(<a href="../../../../com/unionpay/cloudpos/pinpad/KeyInfo.html" title="com.unionpay.cloudpos.pinpad中的类">KeyInfo</a>&nbsp;keyInfo,
           byte[]&nbsp;plain)</code>
<div class="block">按照KeyInfo中选定的密钥进行数据加密，通常用于计算用户数据等操作。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#getRandom(int)">getRandom</a></strong>(int&nbsp;length)</code>
<div class="block">返回随机数。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="file:/E:/adt-bundle-windows-x86_64-withNDKDemoWorkspace-20140321/adt-bundle-windows-x86_64-20140321/sdk/docs/reference/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#getSN()">getSN</a></strong>()</code>
<div class="block">返回PINPad序列号。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#listenForPinBlock(com.unionpay.cloudpos.pinpad.KeyInfo, java.lang.String, boolean, com.unionpay.cloudpos.OperationListener, int)">listenForPinBlock</a></strong>(<a href="../../../../com/unionpay/cloudpos/pinpad/KeyInfo.html" title="com.unionpay.cloudpos.pinpad中的类">KeyInfo</a>&nbsp;keyInfo,
                 <a href="file:/E:/adt-bundle-windows-x86_64-withNDKDemoWorkspace-20140321/adt-bundle-windows-x86_64-20140321/sdk/docs/reference/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pan,
                 boolean&nbsp;voicePrompt,
                 <a href="../../../../com/unionpay/cloudpos/OperationListener.html" title="com.unionpay.cloudpos中的接口">OperationListener</a>&nbsp;listener,
                 int&nbsp;timeout)</code>
<div class="block">让用户输入PIN，并且按照KeyInfo中选定的密钥进行PIN block的加密。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#open(int)">open</a></strong>(int&nbsp;logicalID)</code>
<div class="block">打开某个逻辑ID的PIN输入设备。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#setPINLength(int, int)">setPINLength</a></strong>(int&nbsp;minLen,
            int&nbsp;maxLen)</code>
<div class="block">设置可输入PIN的长度限制。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#showText(int, java.lang.String)">showText</a></strong>(int&nbsp;lineIndex,
        <a href="file:/E:/adt-bundle-windows-x86_64-withNDKDemoWorkspace-20140321/adt-bundle-windows-x86_64-20140321/sdk/docs/reference/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;message)</code>
<div class="block">在PIN输入设备上显示文本。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#showText(int, java.lang.String, boolean)">showText</a></strong>(int&nbsp;lineIndex,
        <a href="file:/E:/adt-bundle-windows-x86_64-withNDKDemoWorkspace-20140321/adt-bundle-windows-x86_64-20140321/sdk/docs/reference/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;message,
        boolean&nbsp;voicePrompt)</code>
<div class="block">在PIN输入设备上显示文本。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#updateMasterKey(int, byte[], byte[])">updateMasterKey</a></strong>(int&nbsp;masterKeyID,
               byte[]&nbsp;oldMasterKey,
               byte[]&nbsp;newMasterKey)</code>
<div class="block">更新主密钥。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#updateUserKey(int, int, byte[])">updateUserKey</a></strong>(int&nbsp;masterKeyID,
             int&nbsp;userKeyID,
             byte[]&nbsp;cipherNewUserKey)</code>
<div class="block">修改用户密钥，一般用于主密钥/会话密钥算法。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#updateUserKey(int, int, byte[], int, byte[])">updateUserKey</a></strong>(int&nbsp;masterKeyID,
             int&nbsp;userKeyID,
             byte[]&nbsp;cipherNewUserKey,
             int&nbsp;checkType,
             byte[]&nbsp;checkValue)</code>
<div class="block">修改用户密钥，一般用于主密钥/会话密钥算法。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadOperationResult.html" title="com.unionpay.cloudpos.pinpad中的接口">PINPadOperationResult</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#waitForPinBlock(com.unionpay.cloudpos.pinpad.KeyInfo, java.lang.String, boolean, int)">waitForPinBlock</a></strong>(<a href="../../../../com/unionpay/cloudpos/pinpad/KeyInfo.html" title="com.unionpay.cloudpos.pinpad中的类">KeyInfo</a>&nbsp;keyInfo,
               <a href="file:/E:/adt-bundle-windows-x86_64-withNDKDemoWorkspace-20140321/adt-bundle-windows-x86_64-20140321/sdk/docs/reference/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pan,
               boolean&nbsp;voicePrompt,
               int&nbsp;timeout)</code>
<div class="block">本方法是上述对应的
 <a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#listenForPinBlock(com.unionpay.cloudpos.pinpad.KeyInfo, java.lang.String, boolean, com.unionpay.cloudpos.OperationListener, int)"><code>listenForPinBlock(KeyInfo,  String, boolean,  OperationListener,  int)</code></a>方法的同步版本。</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.unionpay.cloudpos.Device">
<!--   -->
</a>
<h3>从接口继承的方法&nbsp;com.unionpay.cloudpos.<a href="../../../../com/unionpay/cloudpos/Device.html" title="com.unionpay.cloudpos中的接口">Device</a></h3>
<code><a href="../../../../com/unionpay/cloudpos/Device.html#cancelRequest()">cancelRequest</a>, <a href="../../../../com/unionpay/cloudpos/Device.html#close()">close</a>, <a href="../../../../com/unionpay/cloudpos/Device.html#open()">open</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="KEY_TYPE_DUKPT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_TYPE_DUKPT</h4>
<pre>static final&nbsp;int KEY_TYPE_DUKPT</pre>
<div class="block">密钥类型：DUKPT</div>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../constant-values.html#com.unionpay.cloudpos.pinpad.PINPadDevice.KEY_TYPE_DUKPT">常量字段值</a></dd></dl>
</li>
</ul>
<a name="KEY_TYPE_TDUKPT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_TYPE_TDUKPT</h4>
<pre>static final&nbsp;int KEY_TYPE_TDUKPT</pre>
<div class="block">密钥类型：TDUKPT，三重DES的DUKPT</div>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../constant-values.html#com.unionpay.cloudpos.pinpad.PINPadDevice.KEY_TYPE_TDUKPT">常量字段值</a></dd></dl>
</li>
</ul>
<a name="KEY_TYPE_MK_SK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_TYPE_MK_SK</h4>
<pre>static final&nbsp;int KEY_TYPE_MK_SK</pre>
<div class="block">密钥类型：主密钥/会话密钥</div>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../constant-values.html#com.unionpay.cloudpos.pinpad.PINPadDevice.KEY_TYPE_MK_SK">常量字段值</a></dd></dl>
</li>
</ul>
<a name="KEY_TYPE_FIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>KEY_TYPE_FIX</h4>
<pre>static final&nbsp;int KEY_TYPE_FIX</pre>
<div class="block">密钥类型：固定密钥</div>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../constant-values.html#com.unionpay.cloudpos.pinpad.PINPadDevice.KEY_TYPE_FIX">常量字段值</a></dd></dl>
</li>
</ul>
<a name="USER_KEY_ID_PIN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>USER_KEY_ID_PIN</h4>
<pre>static final&nbsp;int USER_KEY_ID_PIN</pre>
<div class="block">PIN加密密钥</div>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../constant-values.html#com.unionpay.cloudpos.pinpad.PINPadDevice.USER_KEY_ID_PIN">常量字段值</a></dd></dl>
</li>
</ul>
<a name="USER_KEY_ID_MAC">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>USER_KEY_ID_MAC</h4>
<pre>static final&nbsp;int USER_KEY_ID_MAC</pre>
<div class="block">MAC计算密钥</div>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../constant-values.html#com.unionpay.cloudpos.pinpad.PINPadDevice.USER_KEY_ID_MAC">常量字段值</a></dd></dl>
</li>
</ul>
<a name="USER_KEY_ID_DATA">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>USER_KEY_ID_DATA</h4>
<pre>static final&nbsp;int USER_KEY_ID_DATA</pre>
<div class="block">加密数据</div>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../constant-values.html#com.unionpay.cloudpos.pinpad.PINPadDevice.USER_KEY_ID_DATA">常量字段值</a></dd></dl>
</li>
</ul>
<a name="CHECK_TYPE_NONE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CHECK_TYPE_NONE</h4>
<pre>static final&nbsp;int CHECK_TYPE_NONE</pre>
<div class="block">校验位的校验方式之一，无校验位验证。
  <p>
  用于更新工作密钥时使用。</div>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../constant-values.html#com.unionpay.cloudpos.pinpad.PINPadDevice.CHECK_TYPE_NONE">常量字段值</a></dd></dl>
</li>
</ul>
<a name="CHECK_TYPE_CUP">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CHECK_TYPE_CUP</h4>
<pre>static final&nbsp;int CHECK_TYPE_CUP</pre>
<div class="block">校验位的校验方式之一，银联标准算法验证。
  <p>
  用于更新工作密钥时使用。
  校验值使用银联标准算法，即用User key 对8个字节0进行加密，取前四个字节进行校验。</div>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../../constant-values.html#com.unionpay.cloudpos.pinpad.PINPadDevice.CHECK_TYPE_CUP">常量字段值</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="open(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre>void&nbsp;open(int&nbsp;logicalID)
          throws <a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></pre>
<div class="block">打开某个逻辑ID的PIN输入设备。
 <p></div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>logicalID</code> - 设备逻辑ID，</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></code> - 具体定义参考<a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类"><code>DeviceException</code></a>的文档。</dd></dl>
</li>
</ul>
<a name="showText(int, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>showText</h4>
<pre>void&nbsp;showText(int&nbsp;lineIndex,
            <a href="file:/E:/adt-bundle-windows-x86_64-withNDKDemoWorkspace-20140321/adt-bundle-windows-x86_64-20140321/sdk/docs/reference/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;message)
              throws <a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></pre>
<div class="block">在PIN输入设备上显示文本。</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>lineIndex</code> - 行号。</dd><dd><code>message</code> - 本行显示的信息。</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></code> - 具体定义参考<a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类"><code>DeviceException</code></a>的文档。
 或者以下原因：
             <ul>
             <li><code>message</code>太长</li>
             </ul></dd></dl>
</li>
</ul>
<a name="showText(int, java.lang.String, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>showText</h4>
<pre>void&nbsp;showText(int&nbsp;lineIndex,
            <a href="file:/E:/adt-bundle-windows-x86_64-withNDKDemoWorkspace-20140321/adt-bundle-windows-x86_64-20140321/sdk/docs/reference/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;message,
            boolean&nbsp;voicePrompt)
              throws <a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></pre>
<div class="block">在PIN输入设备上显示文本。</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>lineIndex</code> - 行号。</dd><dd><code>message</code> - 本行显示的信息。</dd><dd><code>voicePrompt</code> - 是否提示声音。</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></code> - 具体定义参考<a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类"><code>DeviceException</code></a>的文档。
 或者以下原因：
             <ul>
             <li><code>message</code>太长</li>
             </ul></dd></dl>
</li>
</ul>
<a name="clearText()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearText</h4>
<pre>void&nbsp;clearText()
               throws <a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></pre>
<div class="block">清空文本显示。</div>
<dl><dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></code> - 具体定义参考<a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类"><code>DeviceException</code></a>的文档。</dd></dl>
</li>
</ul>
<a name="updateMasterKey(int, byte[], byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateMasterKey</h4>
<pre>void&nbsp;updateMasterKey(int&nbsp;masterKeyID,
                   byte[]&nbsp;oldMasterKey,
                   byte[]&nbsp;newMasterKey)
                     throws <a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></pre>
<div class="block">更新主密钥。</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>masterKeyID</code> - 主密钥索引</dd><dd><code>oldMasterKey</code> - 原主密钥</dd><dd><code>newMasterKey</code> - 新主密钥</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></code> - 具体定义参考<a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类"><code>DeviceException</code></a>的文档。</dd></dl>
</li>
</ul>
<a name="updateUserKey(int, int, byte[], int, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateUserKey</h4>
<pre>void&nbsp;updateUserKey(int&nbsp;masterKeyID,
                 int&nbsp;userKeyID,
                 byte[]&nbsp;cipherNewUserKey,
                 int&nbsp;checkType,
                 byte[]&nbsp;checkValue)
                   throws <a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></pre>
<div class="block">修改用户密钥，一般用于主密钥/会话密钥算法。
 <p>用来更新的用户密钥数据是密文，是由给定的主密钥加密，因此更新时需要指定所使用的主密钥索引。
 用户密钥约定使用的是3des算法。</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>masterKeyID</code> - 用来解密的主密钥索引。</dd><dd><code>userKeyID</code> - 需要更新的用户密钥类型：<a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#USER_KEY_ID_PIN"><code>USER_KEY_ID_PIN</code></a>, <a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#USER_KEY_ID_MAC"><code>USER_KEY_ID_MAC</code></a>, <a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#USER_KEY_ID_DATA"><code>USER_KEY_ID_DATA</code></a>。</dd><dd><code>cipherNewUserKey</code> - 被主密钥加过密的用户密钥数据。</dd><dd><code>checkType</code> - 校验位校验类型：<a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#CHECK_TYPE_NONE"><code>CHECK_TYPE_NONE</code></a>, <a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#CHECK_TYPE_CUP"><code>CHECK_TYPE_CUP</code></a>。</dd><dd><code>checkValue</code> - 校验pinpad。</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></code> - 具体定义参考<a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类"><code>DeviceException</code></a>的文档。</dd></dl>
</li>
</ul>
<a name="updateUserKey(int, int, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateUserKey</h4>
<pre>void&nbsp;updateUserKey(int&nbsp;masterKeyID,
                 int&nbsp;userKeyID,
                 byte[]&nbsp;cipherNewUserKey)
                   throws <a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></pre>
<div class="block">修改用户密钥，一般用于主密钥/会话密钥算法。
 <p>
 用来更新的用户密钥数据是密文，是由给定的主密钥加密，因此更新时需要指定所使用的主密钥索引。
 用户密钥约定使用的是3des算法。</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>masterKeyID</code> - 用来解密的主密钥索引。</dd><dd><code>userKeyID</code> - 需要更新的用户密钥类型：<a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#USER_KEY_ID_PIN"><code>USER_KEY_ID_PIN</code></a>, <a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#USER_KEY_ID_MAC"><code>USER_KEY_ID_MAC</code></a>, <a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#USER_KEY_ID_DATA"><code>USER_KEY_ID_DATA</code></a>。</dd><dd><code>cipherNewUserKey</code> - 被主密钥加过密的用户密钥数据    。</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></code> - 具体定义参考<a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类"><code>DeviceException</code></a>的文档。</dd></dl>
</li>
</ul>
<a name="encryptData(com.unionpay.cloudpos.pinpad.KeyInfo, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encryptData</h4>
<pre>byte[]&nbsp;encryptData(<a href="../../../../com/unionpay/cloudpos/pinpad/KeyInfo.html" title="com.unionpay.cloudpos.pinpad中的类">KeyInfo</a>&nbsp;keyInfo,
                 byte[]&nbsp;plain)
                   throws <a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></pre>
<div class="block">按照KeyInfo中选定的密钥进行数据加密，通常用于计算用户数据等操作。</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>keyInfo</code> - : 设置加密配置信息。</dd><dd><code>plain</code> - : 需要加密的明文。</dd>
<dt><span class="strong">返回:</span></dt><dd>加完密的密文。</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></code> - 具体定义参考<a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类"><code>DeviceException</code></a>的文档。</dd></dl>
</li>
</ul>
<a name="listenForPinBlock(com.unionpay.cloudpos.pinpad.KeyInfo, java.lang.String, boolean, com.unionpay.cloudpos.OperationListener, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listenForPinBlock</h4>
<pre>void&nbsp;listenForPinBlock(<a href="../../../../com/unionpay/cloudpos/pinpad/KeyInfo.html" title="com.unionpay.cloudpos.pinpad中的类">KeyInfo</a>&nbsp;keyInfo,
                     <a href="file:/E:/adt-bundle-windows-x86_64-withNDKDemoWorkspace-20140321/adt-bundle-windows-x86_64-20140321/sdk/docs/reference/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pan,
                     boolean&nbsp;voicePrompt,
                     <a href="../../../../com/unionpay/cloudpos/OperationListener.html" title="com.unionpay.cloudpos中的接口">OperationListener</a>&nbsp;listener,
                     int&nbsp;timeout)
                       throws <a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></pre>
<div class="block">让用户输入PIN，并且按照KeyInfo中选定的密钥进行PIN block的加密。最后返回加密结果。          
<p>本方法是一个异步方法，应用程序等待PIN输入设备输入命令后，终端通过操作监听者<a href="../../../../com/unionpay/cloudpos/OperationListener.html#handleResult(com.unionpay.cloudpos.OperationResult)"><code>handleResult()</code></a>方法返回结果。
 每个应用程序必须定义自己的OperationListener，在回调函数handleResult()中对返回结果进行处理。如下所示：
 <pre>
 OperationListener operationListener = new OperationListener(){
     &#064;Override
     public void handleResult(OperationResult result) {
         // handleResult
     }
 });
 </pre>
 <p>方法通过设置timeout来决定最多等待多长时间。请求开始执行的时候timeout开始计时。
 <p>如果timeout时间到了，但还没有任何输入，也会回调函数handleResult()。此时
 OperationResult会返回错误：<a href="../../../../com/unionpay/cloudpos/OperationResult.html#ERR_TIMEOUT"><code>ERR_TIMEOUT</code></a>，同时没有任何数据返回。
 <p>如果timeout是<a href="../../../../com/unionpay/cloudpos/TimeConstants.html#FOREVER"><code>FOREVER</code></a>，方法的等待时间为PinPad的超时时间，在超时时间内会有数据返回或取消。如果到了PinPad的超时时间，没有任何输入，按timeout超时处理。
 <p>如果timeout是<a href="../../../../com/unionpay/cloudpos/TimeConstants.html#IMMEDIATE"><code>IMMEDIATE</code></a>，方法会马上返回。
 <p>本方法会正确响应
 <a href="../../../../com/unionpay/cloudpos/Device.html#cancelRequest()"><code>Device.cancelRequest()</code></a>方法来取消操作。
 <p></div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>keyInfo</code> - 密钥和算法配置信息。</dd><dd><code>pan</code> - 用户卡号的ASCII字符串。</dd><dd><code>voicePrompt</code> - 是否语音提示用户。</dd><dd><code>listener</code> - 本操作的动作监听者。</dd><dd><code>timeout</code> - 等待用户输入的时间。</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></code> - 具体定义参考<a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类"><code>DeviceException</code></a>的文档。</dd></dl>
</li>
</ul>
<a name="waitForPinBlock(com.unionpay.cloudpos.pinpad.KeyInfo, java.lang.String, boolean, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForPinBlock</h4>
<pre><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadOperationResult.html" title="com.unionpay.cloudpos.pinpad中的接口">PINPadOperationResult</a>&nbsp;waitForPinBlock(<a href="../../../../com/unionpay/cloudpos/pinpad/KeyInfo.html" title="com.unionpay.cloudpos.pinpad中的类">KeyInfo</a>&nbsp;keyInfo,
                                    <a href="file:/E:/adt-bundle-windows-x86_64-withNDKDemoWorkspace-20140321/adt-bundle-windows-x86_64-20140321/sdk/docs/reference/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;pan,
                                    boolean&nbsp;voicePrompt,
                                    int&nbsp;timeout)
                                      throws <a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></pre>
<div class="block">本方法是上述对应的
 <a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDevice.html#listenForPinBlock(com.unionpay.cloudpos.pinpad.KeyInfo, java.lang.String, boolean, com.unionpay.cloudpos.OperationListener, int)"><code>listenForPinBlock(KeyInfo,  String, boolean,  OperationListener,  int)</code></a>方法的同步版本。
 <p>
 只有当超时发生或者操作正常完成，本次调用才会返回。
 <p>
 由于带有超时，本方法会响应<a href="../../../../com/unionpay/cloudpos/Device.html#cancelRequest()"><code>Device.cancelRequest()</code></a>方法。
 <p>
 如果超时发生，会返回这个操作结果：
 <a href="../../../../com/unionpay/cloudpos/OperationResult.html#ERR_TIMEOUT"><code>ERR_TIMEOUT</code></a>，同时没有任何数据返回。</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>keyInfo</code> - 密钥和算法配置信息。</dd><dd><code>pan</code> - 用户卡号的ASCII字符串。</dd><dd><code>voicePrompt</code> - 是否语音提示用户。</dd><dd><code>timeout</code> - 等待用户输入PIN的时间。</dd>
<dt><span class="strong">返回:</span></dt><dd>PIN block的密文。</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></code></dd></dl>
</li>
</ul>
<a name="calculateMac(com.unionpay.cloudpos.pinpad.KeyInfo, int, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateMac</h4>
<pre>byte[]&nbsp;calculateMac(<a href="../../../../com/unionpay/cloudpos/pinpad/KeyInfo.html" title="com.unionpay.cloudpos.pinpad中的类">KeyInfo</a>&nbsp;keyInfo,
                  int&nbsp;macFlag,
                  byte[]&nbsp;plain)
                    throws <a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></pre>
<div class="block">按照KeyInfo中指定的密钥进行计算MAC。
 <p>这里KeyInfo中，algorithm一般不需要指定。具体的MAC算法由macFlag参数指定。</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>keyInfo</code> - 指定计算MAC的密钥。</dd><dd><code>macFlag</code> - 计算MAC的算法。如下所示：
 <ol>
 <li>X9.19 算法 ,后补 80：<code>ALG_MAC_METHOD_X919_80</code>
 <li>银联 ECB 算法：<code>ALG_MAC_METHOD_ECB</code>。
 <li>X9.19算法 (不足后补 0x00)：<code>ALG_MAC_METHOD_X919_X00</code>移动支付项目使用。
 <li> 中总行扩展算法：<code>ALG_MAC_METHOD_BOCE</code>。
 <li>X9.19算法 ,后补 00：<code>ALG_MAC_METHOD_X919_00</code>。
 <li>异或后 3DES：<code>ALG_MAC_METHOD_XOR_3DES</code>。
 <li>X9.9：<code>ALG_MAC_METHOD_X99</code>。
 </ol></dd><dd><code>plain</code> - 数据明文。</dd>
<dt><span class="strong">返回:</span></dt><dd>MAC。</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></code></dd></dl>
</li>
</ul>
<a name="setPINLength(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPINLength</h4>
<pre>void&nbsp;setPINLength(int&nbsp;minLen,
                int&nbsp;maxLen)
                  throws <a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></pre>
<div class="block">设置可输入PIN的长度限制。</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>minLen</code> - 最短有效PIN长度。</dd><dd><code>maxLen</code> - 最长有效PIN长度。</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></code></dd></dl>
</li>
</ul>
<a name="getSN()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSN</h4>
<pre><a href="file:/E:/adt-bundle-windows-x86_64-withNDKDemoWorkspace-20140321/adt-bundle-windows-x86_64-20140321/sdk/docs/reference/java/lang/String.html?is-external=true" title="java.lang中的类或接口">String</a>&nbsp;getSN()
             throws <a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></pre>
<div class="block">返回PINPad序列号。</div>
<dl><dt><span class="strong">返回:</span></dt><dd>PINPad序列号。</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></code></dd></dl>
</li>
</ul>
<a name="getRandom(int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getRandom</h4>
<pre>byte[]&nbsp;getRandom(int&nbsp;length)
                 throws <a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></pre>
<div class="block">返回随机数。</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>length</code> - 随机数的长度。</dd>
<dt><span class="strong">返回:</span></dt><dd>随机数buffer流。</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code><a href="../../../../com/unionpay/cloudpos/DeviceException.html" title="com.unionpay.cloudpos中的类">DeviceException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="跳过导航链接"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/PINPadDevice.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/unionpay/cloudpos/pinpad/KeyInfo.html" title="com.unionpay.cloudpos.pinpad中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../../com/unionpay/cloudpos/pinpad/PINPadDeviceSpec.html" title="com.unionpay.cloudpos.pinpad中的接口"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/unionpay/cloudpos/pinpad/PINPadDevice.html" target="_top">框架</a></li>
<li><a href="PINPadDevice.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field_summary">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field_detail">字段</a>&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
