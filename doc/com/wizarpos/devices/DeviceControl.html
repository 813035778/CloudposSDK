<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_33) on Mon Jun 01 11:53:35 CST 2015 -->
<TITLE>
DeviceControl
</TITLE>

<META NAME="date" CONTENT="2015-06-01">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DeviceControl";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DeviceControl.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../com/wizarpos/devices/DeviceException.html" title="class in com.wizarpos.devices"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/wizarpos/devices/DeviceControl.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DeviceControl.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.wizarpos.devices</FONT>
<BR>
Interface DeviceControl</H2>
<DL>
<DT><B>All Known Subinterfaces:</B> <DD><A HREF="../../../com/wizarpos/devices/contactlesscard/ContactlessCardControl.html" title="interface in com.wizarpos.devices.contactlesscard">ContactlessCardControl</A>, <A HREF="../../../com/wizarpos/devices/hsm/HSMControl.html" title="interface in com.wizarpos.devices.hsm">HSMControl</A>, <A HREF="../../../com/wizarpos/devices/idcard/IDCardControl.html" title="interface in com.wizarpos.devices.idcard">IDCardControl</A>, <A HREF="../../../com/wizarpos/devices/led/LEDControl.html" title="interface in com.wizarpos.devices.led">LEDControl</A>, <A HREF="../../../com/wizarpos/devices/msr/MSRControl.html" title="interface in com.wizarpos.devices.msr">MSRControl</A>, <A HREF="../../../com/wizarpos/devices/pinpad/PINPadControl.html" title="interface in com.wizarpos.devices.pinpad">PINPadControl</A>, <A HREF="../../../com/wizarpos/devices/printer/PrinterControl.html" title="interface in com.wizarpos.devices.printer">PrinterControl</A>, <A HREF="../../../com/wizarpos/devices/smartcardslot/SCSControl.html" title="interface in com.wizarpos.devices.smartcardslot">SCSControl</A>, <A HREF="../../../com/wizarpos/devices/serial/SerialControl.html" title="interface in com.wizarpos.devices.serial">SerialControl</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>DeviceControl</B></DL>
</PRE>

<P>
<b>DeviceControl</b>接口是所有设备Control的根类。所有的设备Control的接口
 和实现类都必须继承至这个接口。
 这个类定义了设备的close方法和cancel执行中的异步操作的方法。
 <p>
 所有的应用程序都使用各种<b>DeviceControl</b>来操作各种设备服务。一般来说，
 每个设备服务只能同时被一个设备Control打开和使用。
 如果打开一个已经被打开的设备服务，设备Control的open分发会返回错误。
 当然，也有些特殊设备可以被共享打开，比如对单存加密设备的使用，安全模块的只读使用。
 具体使用方法看没有设备Control的文档。
 The <b>DeviceControl</b> interface is the root for all device controls. 
 It must be inherited by all service-specific device control
 interfaces and, ultimately, implemented by all concrete device control
 classes. It defines methods used to cancel pending requests, and to close the device
 control.
 <p>
 A <b>device control</b> is the interface used by an application to access
 a service. A single device may be accessed through several device
 controls. Most of the devices can only be accessed by one device control
 at a time. An attempt to open  a device control on a service that is
 already in use would get <code>open()</code> failure. 
 Nevertheless, some devices may be accessed
 simultaneously by several controls (HSM, ...). In this case, the
 relative documentation of the device control indicates it.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/wizarpos/devices/DeviceControl.html#APP_TAG">APP_TAG</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/wizarpos/devices/DeviceControl.html#cancelRequest()">cancelRequest</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;该方法用于尝试取消一个正在执行的异步操作。</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/wizarpos/devices/DeviceControl.html#close()">close</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;该方法用于断开设备Control和设备服务之间的连接。释放服务，让其他设备接口可以使用。</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="APP_TAG"><!-- --></A><H3>
APP_TAG</H3>
<PRE>
static final java.lang.String <B>APP_TAG</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#com.wizarpos.devices.DeviceControl.APP_TAG">Constant Field Values</A></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="close()"><!-- --></A><H3>
close</H3>
<PRE>
void <B>close</B>()
           throws <A HREF="../../../com/wizarpos/devices/DeviceException.html" title="class in com.wizarpos.devices">DeviceException</A></PRE>
<DL>
<DD>该方法用于断开设备Control和设备服务之间的连接。释放服务，让其他设备接口可以使用。
 <p>
 该方法调用后，设备服务所有运行状态会被重置。比如：LED正在点亮，虽然close之前没有调用关闭接口，
 在close方法调用是也会被同时关闭，
 <p>
 一旦close了，只有重新open才能让这个设备Control和设备服务建立连接。
 <p>
 Disconnects a control from its service.
 <p>
 If a continuous activity has been started by the control, this activity
 is stopped. For example, the <code>LEDControl</code> get off all the LED that it has started.
 <p>
 Similarly, if a sequence of operations has been started by the control,
 this sequence is terminated.
 <p>
 Once closed, the control is no longer associated with any particular
 service implementation. <code>open()</code> may then be used to
 reestablish a connection to either the control's former service or a new
 service that uses the same control type.
 <p>
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../com/wizarpos/devices/DeviceException.html" title="class in com.wizarpos.devices">DeviceException</A></CODE> - with the following codes:
             <ul>
             <li>BAD_CONTROL_MODE - if the control was not open 
             <li>REQUEST_PENDING - if a
             previous asynchronous request through this control has not yet been
             completed
             </ul></DL>
</DD>
</DL>
<HR>

<A NAME="cancelRequest()"><!-- --></A><H3>
cancelRequest</H3>
<PRE>
void <B>cancelRequest</B>()
                   throws <A HREF="../../../com/wizarpos/devices/DeviceException.html" title="class in com.wizarpos.devices">DeviceException</A></PRE>
<DL>
<DD>该方法用于尝试取消一个正在执行的异步操作。
 <p>
 设备Control的每种方法对cancelRequest的响应不同，具体包括以下3种：
 <ol>
 <li>如果设备Control的某个方法参数中带有一个<b>listener</b>，设备必须
 响应<code>cancelRequest</code>方法，并且放弃当前的操作。
 <li>如果设备Control的某个方法参数中带有一个<b>timeout</b>，设备必须
 响应<code>cancelRequest</code>方法，并且放弃当前的操作。
 <li>其他方法我们视作同步方法，可以响应或者不响应cancelRequest方法，这个
 需要根据每个设备具体情况和文档确定。
 </ol>
 总体上来说，异步方法必须响应cancelRequest方法，返回的异步操作结果状态是EVT_CANCEL。
 如果没有异步方法正在被执行，cancelRequest就会返回错误。
 <p>
 Attempts to cancel a pending request.
 <p>
 The exact performance of this command is operation-specific and falls
 into one of 3 categories.
 <ol>
 <li>If the request method contains a <b>listener</b> , the device must
 successfully respond to <code>cancelRequest()</code> and abort the
 operation.
 <li>If the request method contains a <b>timeout</b> , the device must
 successfully respond to <code>cancelRequest()</code> and abort the
 operation.
 <li>Depending on the particular implementation, however, other
 operations may not respond to <code>cancelRequest()</code>.
 </ol>
 <p>
 It is tempting to view this command as <b>asynchronous</b> in that it
 is not performed instantaneously. However, it has no associated
 operation completion result. Completion is signalled by the reception of
 an operation result for the original request containing an result status
 of <code>EVT_CANCEL</code>. Moreover, unlike other asynchronous
 requests, <code>cancelRequest()</code> is intended to be used only when
 there is a previous request pending from a control. Thus it may be
 called &quot;on top&quot; of a pending request, which would violate the
 rule against having more than one such request attributable to a single
 control. It can be seen, then, that <code>cancelRequest()</code> is
 not an asynchronous command, but a special case.
 <p>
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../com/wizarpos/devices/DeviceException.html" title="class in com.wizarpos.devices">DeviceException</A></CODE> - with the following codes:
         <ul>
         <li>BAD_CONTROL_MODE - if no operation listener is registered
                                or the control is not open
         <li>NO_REQUEST_PENDING  - if no request from this control is
                                   pending
         </ul></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DeviceControl.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../com/wizarpos/devices/DeviceException.html" title="class in com.wizarpos.devices"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?com/wizarpos/devices/DeviceControl.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DeviceControl.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
